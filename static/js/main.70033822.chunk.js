(this["webpackJsonpweather-app"]=this["webpackJsonpweather-app"]||[]).push([[0],{161:function(t,e,n){"use strict";n.r(e);var i=n(2),a=n(0),o=n.n(a),s=n(49),c=n.n(s),r=(n(57),n(10)),d=n(11),h=n(13),l=n(12),u=(n(58),function(t){Object(h.a)(n,t);var e=Object(l.a)(n);function n(){return Object(r.a)(this,n),e.apply(this,arguments)}return Object(d.a)(n,[{key:"render",value:function(){return Object(i.jsxs)("div",{className:"weather",children:[Object(i.jsxs)("h1",{children:[this.props.city,",",this.props.country]}),Object(i.jsx)("br",{}),Object(i.jsx)("br",{}),Object(i.jsx)("i",{className:"wi ".concat(this.props.icon," display-1")}),Object(i.jsx)("br",{})," ",Object(i.jsx)("br",{}),Object(i.jsxs)("h3",{children:[this.props.temp,"\xb0C"]}),Object(i.jsx)("h3",{children:this.props.description}),Object(i.jsxs)("div",{children:[Object(i.jsxs)("div",{children:["Humidity: ",this.props.humidity," % \xa0\xa0 Pressure: ",this.props.pressure," hPa"]}),Object(i.jsxs)("div",{children:["Wind: ",this.props.wind," meter/sec"]})]})]})}}]),n}(o.a.Component)),p=(n(59),n(60),n(61),n(166)),j=n(51),m=n(167),b=n(163),f=n(164),g=n(165),y=n(50),x=function(t){Object(h.a)(n,t);var e=Object(l.a)(n);function n(){return Object(r.a)(this,n),e.apply(this,arguments)}return Object(d.a)(n,[{key:"render",value:function(){var t={labels:this.props.labels,datasets:[{label:"Temperature in \xb0c",data:this.props.data}]};return Object(i.jsx)("div",{children:Object(i.jsx)(y.Bar,{data:t,options:{maintainAspectRatio:!0}})})}}]),n}(o.a.Component),O=n.p+"static/media/factory.0bdb8ba0.svg",v="8d44c5609ed1f902741d31e3b65a3959",w=function(t){Object(h.a)(n,t);var e=Object(l.a)(n);function n(){var t;return Object(r.a)(this,n),(t=e.call(this)).getIcon=function(e,n){n>=200&&n<232?t.setState({icon:e.thunderstorm}):n>=300&&n<=321?t.setState({icon:e.drizzle}):n>=500&&n<=521?t.setState({icon:e.rain}):n>=600&&n<=622?t.setState({icon:e.snow}):n>=701&&n<=781?t.setState({icon:e.atmosphere}):800===n?t.setState({icon:e.clear}):n>=801&&n<=804&&t.setState({icon:e.clouds})},t.getLocalWeather=function(){navigator.geolocation.getCurrentPosition((function(e){t.setState({latitude:e.coords.latitude,longitude:e.coords.longitude}),t.loadWeather()}),(function(e){t.setState({display:""}),alert("Enable your browser location to check weather at your location")}))},t.getAqi=function(){fetch("https://api.openweathermap.org/data/2.5/air_pollution?lat=".concat(t.state.latitude,"&lon=").concat(t.state.longitude,"&appid=").concat(v)).then((function(t){return t.json()})).then((function(e){var n=e.list[0].main.aqi,i="";1===n?i="Good":2===n?i="Fair":3===n?i="Moderate":4===n?i="Poor":5===n&&(i="Very Poor"),t.setState({aqi:n,aqiDes:i,Carbonmonoxide:e.list[0].components.co,Nitrogenmonoxide:e.list[0].components.no,Nitrogendioxide:e.list[0].components.no2,Ozone:e.list[0].components.o3})}))},t.loadWeather=function(){fetch("https://api.openweathermap.org/data/2.5/weather?lat=".concat(t.state.latitude,"&lon=").concat(t.state.longitude,"&appid=").concat(v)).then((function(t){return t.json()})).then((function(e){200===e.cod&&(t.setState({city:e.name,country:e.sys.country,temp:Math.floor(e.main.temp-273.15),description:e.weather[0].description,pressure:e.main.pressure,humidity:e.main.humidity,wind:e.wind.speed}),t.getIcon(t.Icon,e.weather[0].id))})),fetch("https://api.openweathermap.org/data/2.5/onecall?lat=".concat(t.state.latitude,"&lon=").concat(t.state.longitude,"&appid=").concat(v)).then((function(t){return t.json()})).then((function(e){for(var n=e.hourly.map((function(t){return t.dt})),i=[],a=1;a<25;a++){var o=new Date(1e3*n[a]),s=o.getHours(),c=o.getMinutes();i.push("".concat(s,":").concat(c))}t.setState({labels:i});for(var r=e.hourly.map((function(t){return t.temp})),d=[],h=1;h<25;h++){var l=Math.floor(r[h]-273.15);d.push(l)}t.setState({data:d})})),t.getAqi()},t.onSearchClick=function(){t.state.search&&fetch("https://api.openweathermap.org/data/2.5/weather?q=".concat(t.state.search,"&appid=").concat(v)).then((function(t){return t.json()})).then((function(e){"404"===e.cod&&alert("City not found"),200===e.cod&&(t.setState({city:e.name,country:e.sys.country,temp:Math.floor(e.main.temp-273.15),description:e.weather[0].description,pressure:e.main.pressure,humidity:e.main.humidity,wind:e.wind.speed,longitude:e.coord.lon,latitude:e.coord.lat},(function(){fetch("https://api.openweathermap.org/data/2.5/onecall?lat=".concat(t.state.latitude,"&lon=").concat(t.state.longitude,"&appid=").concat(v)).then((function(t){return t.json()})).then((function(e){for(var n=e.hourly.map((function(t){return t.dt})),i=[],a=1;a<25;a++){var o=new Date(1e3*n[a]),s=o.getHours(),c=o.getMinutes();i.push("".concat(s,":").concat(c))}t.setState({labels:i});for(var r=e.hourly.map((function(t){return t.temp})),d=[],h=1;h<25;h++){var l=Math.floor(r[h]-273.15);d.push(l)}t.setState({data:d},t.getAqi)}))})),t.getIcon(t.Icon,e.weather[0].id))}))},t.onSearchChange=function(e){t.setState({search:e.target.value})},t.state={city:void 0,country:void 0,search:"",icon:void 0,temp:void 0,description:"",display:Object(i.jsx)("h3",{style:{textAlign:"center"},children:"Loading..."}),latitude:void 0,longitude:void 0,pressure:void 0,humidity:void 0,wind:void 0,labels:void 0,data:void 0,aqi:void 0,aqiDes:void 0,Carbonmonoxide:void 0,Nitrogenmonoxide:void 0,Nitrogendioxide:void 0,Ozone:void 0},t.Icon={drizzle:"wi-sleet",rain:"wi-storm-showers",thunderstorm:"wi-thunderstorm",snow:"wi-snow",atmosphere:"wi-fog",clouds:"wi-day-fog",clear:"wi-day-sunny"},t}return Object(d.a)(n,[{key:"componentDidMount",value:function(){this.getLocalWeather()}},{key:"render",value:function(){var t=this,e=this.state.display;return void 0!==this.state.city&&(e=Object(i.jsx)(u,{city:this.state.city,temp:this.state.temp,country:this.state.country,icon:this.state.icon,description:this.state.description,humidity:this.state.humidity,pressure:this.state.pressure,wind:this.state.wind})),Object(i.jsxs)("div",{children:[Object(i.jsx)(p.a,{className:"form",style:{paddingTop:5},children:Object(i.jsxs)(p.a.Row,{className:"align-items-center",children:[Object(i.jsx)(j.a,{xs:"auto",children:Object(i.jsx)(p.a.Control,{className:"mb-2",id:"inlineFormInput",placeholder:"City",onChange:this.onSearchChange,onKeyPress:function(e){"Enter"===e.key&&(e.preventDefault(),t.onSearchClick())}})}),Object(i.jsxs)(j.a,{xs:"auto",children:[Object(i.jsx)(m.a,{type:"button",className:"mb-2",variant:"info",onClick:this.onSearchClick,children:"Search"}),"\xa0\xa0",Object(i.jsx)(m.a,{type:"button",className:"mb-2",variant:"info",onClick:this.getLocalWeather,children:"Show local weather"})]})]})}),Object(i.jsx)("br",{}),Object(i.jsxs)(b.a,{children:[Object(i.jsxs)(f.a,{children:[Object(i.jsx)(j.a,{children:e}),Object(i.jsxs)(j.a,{children:[Object(i.jsx)("h4",{children:"Hourly temperature forecast for next 24 hours"}),Object(i.jsx)(x,{data:this.state.data,labels:this.state.labels})]})]}),this.state.aqi?Object(i.jsx)(f.a,{children:Object(i.jsxs)(j.a,{style:{textAlign:"center"},children:[Object(i.jsx)(g.a,{src:O,style:{height:"8em"}}),Object(i.jsxs)("div",{children:["Air quality index: ",this.state.aqi," ( ",this.state.aqiDes," ) \xa0\xa0 Carbon monoxide: ",this.state.Carbonmonoxide," \u03bcg/m3"]}),Object(i.jsxs)("div",{children:["Nitrogen monoxide: ",this.state.Nitrogenmonoxide," \u03bcg/m3 \xa0\xa0 Nitrogen dioxide: ",this.state.Nitrogendioxide," \u03bcg/m3"]}),Object(i.jsxs)("div",{children:["Ozone: ",this.state.Ozone," \u03bcg/m3"]})]})}):Object(i.jsx)("div",{})]})]})}}]),n}(a.Component),S=function(t){t&&t instanceof Function&&n.e(3).then(n.bind(null,168)).then((function(e){var n=e.getCLS,i=e.getFID,a=e.getFCP,o=e.getLCP,s=e.getTTFB;n(t),i(t),a(t),o(t),s(t)}))};c.a.render(Object(i.jsx)(o.a.StrictMode,{children:Object(i.jsx)(w,{})}),document.getElementById("root")),S()},57:function(t,e,n){},58:function(t,e,n){},59:function(t,e,n){}},[[161,1,2]]]);
//# sourceMappingURL=main.70033822.chunk.js.map